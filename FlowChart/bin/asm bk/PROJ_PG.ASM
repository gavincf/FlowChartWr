
;=========================================================================
; CODE0
;=========================================================================

;==========================
.IF (CHIPSERIES = 'N589A') .OR. (CHIPSERIES = 'N589B') .OR. (CHIPSERIES = 'N589C') .OR. (CHIPSERIES = 'N589D')
	.IF ( C_PROTECTION_PAGE_EN .EQ. 1)
BK0_PROTECTION_PAGE_UPDATE:
	;--------------------SWAPPING_PAGE_ADDR, SRC_PAGE_ADDR, DST_OFFSET, SRC_LEN, SRC_PBUF
	PROTECTION_PAGE_UPDATE 1400H, 1200H, 0, 10H, FLASH_DATA0
	RTS

BK0_PROTECTION_PAGE_READ:
	;--------------------------SWAPPING_PAGE_ADDR, SRC_PAGE_ADDR, DST_OFFSET, SRC_LEN, SRC_PBUF
	PROTECTION_PAGE_READ 1400H, 1200H, 0, 1, REG_EA
	RTS
	.ENDIF
.ENDIF



;==========================
.if (CHIPSERIES = 'N588H') .OR. (CHIPSERIES = 'N588J') .OR. (CHIPSERIES = 'N567G') .OR. (CHIPSERIES = 'N567H') .OR. (CHIPSERIES = 'N567K') .OR. (CHIPSERIES = 'N588L')
BK0_STORE_BPX:
.IF ( C_BP0_STATUS_EN .EQ. 1 )
	LDA	!BP0
	STA	BP0_STATUS
.ENDIF
.IF ( C_BP1_STATUS_EN .EQ. 1 )
	LDA	!BP1
	STA	BP1_STATUS
.ENDIF
.IF ( C_BP2_STATUS_EN .EQ. 1 )
	LDA	!BP2
	STA	BP2_STATUS
.ENDIF
;
	RTS
BK0_STORE_BPX_WO_BOND_PWOFF:
.IF ( C_BP0_STATUS_EN .EQ. 1 )
	LDA	BP0_STATUS
	AND	#C_BP0_BOND
	STA	BP0_STATUS
	LDA	#C_BP0_BOND
	EOR	#0FFH
	AND	!BP0 ;READ
	ORA	BP0_STATUS
	STA	BP0_STATUS
.ENDIF
.IF ( C_BP1_STATUS_EN .EQ. 1 )
	LDA	BP1_STATUS
	AND	#C_BP1_BOND
	STA	BP1_STATUS
	LDA	#C_BP1_BOND
	EOR	#0FFH
	AND	!BP1 ;READ
	ORA	BP1_STATUS
	STA	BP1_STATUS
.ENDIF
.IF ( C_BP2_STATUS_EN .EQ. 1 )
	LDA	BP2_STATUS
	AND	#C_BP2_BOND
	STA	BP2_STATUS
	LDA	#C_BP2_BOND
	EOR	#0FFH
	AND	!BP2  ;READ
	ORA	BP2_STATUS
	STA	BP2_STATUS
.ENDIF
;
	RTS

.ENDIF
.IF (CHIPSERIES = 'N589A') .OR. (CHIPSERIES = 'N589B') .OR. (CHIPSERIES = 'N589C') .OR. (CHIPSERIES = 'N589D')
BK0_STORE_BPX:
	.IF ( C_BP0_STATUS_EN .EQ. 1 )
	LDA	!BP0R
	STA	BP0_STATUS
	.ENDIF
	.IF ( C_BP1_STATUS_EN .EQ. 1 )
	LDA	!BP1R
	STA	BP1_STATUS
	.ENDIF
	.IF ( C_BP2_STATUS_EN .EQ. 1 )
	LDA	!BP2R
	STA	BP2_STATUS
	.ENDIF
;
	RTS

BK0_STORE_BPX_WO_BOND_PWOFF:
	.IF ( C_BP0_STATUS_EN .EQ. 1 )
	LDA	BP0_STATUS
	AND	#C_BP0_BOND
	STA	BP0_STATUS
	LDA	#C_BP0_BOND
	EOR	#0FFH
	AND	!BP0R ;READ
	ORA	BP0_STATUS
	STA	BP0_STATUS
	.ENDIF
	.IF ( C_BP1_STATUS_EN .EQ. 1 )
	LDA	BP1_STATUS
	AND	#C_BP1_BOND
	STA	BP1_STATUS
	LDA	#C_BP1_BOND
	EOR	#0FFH
	AND	!BP1R ;READ
	ORA	BP1_STATUS
	STA	BP1_STATUS
	.ENDIF
	.IF ( C_BP2_STATUS_EN .EQ. 1 )
	LDA	BP2_STATUS
	AND	#C_BP2_BOND
	STA	BP2_STATUS
	LDA	#C_BP2_BOND
	EOR	#0FFH
	AND	!BP2R  ;READ
	ORA	BP2_STATUS
	STA	BP2_STATUS
	.ENDIF
	.IF ( C_BP3_STATUS_EN .EQ. 1 )
	LDA	BP3_STATUS
	AND	#C_BP3_BOND
	STA	BP3_STATUS
	LDA	#C_BP3_BOND
	EOR	#0FFH
	AND	!BP3R  ;READ
	ORA	BP3_STATUS
	STA	BP3_STATUS
	.ENDIF
;
	RTS


;=========================================================================
; CODE1
;=========================================================================

;=============================
;BK0_STORE_DPD_RAM:
;=============================
	
	RTS
	
;=============================
;BK0_LOAD_DPD_RAM
;=============================
	
	RTS

.ENDIF ;(CHIPSERIES = 'N589A') .OR. (CHIPSERIES = 'N589B') .OR. (CHIPSERIES = 'N589C') .OR. (CHIPSERIES = 'N589D')
;==========================


GET_SYS_MODE_NO1:
	
	LDA	#00H
	STA	SYS_MODE_NO
	RTS

L_RESET_IDLE_TIME_CHK:
	LDA	DLYCNT0
	ORA	DLYCNT0+1
	BEQ	L_CHK_IDLE_END

L_RESET_IDLE_TIME:
	MR_RESET_IDLE0_TIME
L_CHK_IDLE_END:
	RTS
;
L_RESET_IDLE:
	MR_RESET_IDLE0
	RTS
L_STOP_IDLE_TIME:
	MR_STOP_IDLE0_TIME
	RTS
L_STOP_IDLE:
	MR_STOP_IDLE0
	RTS




	
	


