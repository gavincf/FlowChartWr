;==========================================
;=======================================================================
;	MACRO1
;========================================================================
MR_DET_VD MACRO
	LDA	N589VD_LEVEL
	CMP	#4
	ENDM


MR_RESET_IDLE0 MACRO
	M_SET_CNT0_IDX (1000000H-4000*100/C_100GAP_FXF15),0
	ENDM
MR_RESET_IDLE0_TIME MACRO
	M_SET_CNT0 (1000000H-4000*100/C_100GAP_FXF15)
	ENDM
MR_STOP_IDLE0_TIME MACRO
	M_SET_CNT0 0
	ENDM
MR_STOP_IDLE0 MACRO
	M_SET_CNT0_IDX 0,0
	ENDM
M_SET_CNT1_BK MACRO VALUE
	LDA	#.LOW.VALUE
	STA	DLYCNT1
	STA	DLYCNT1B
	LDA	#.HIGH.VALUE
	STA	DLYCNT11
	STA	DLYCNT11B
	LDA	#C_CNT1_BIT
	TRB	<USER_FLAG_B
	ENDM
M_LOAD_CNT1_BK MACRO
	LDA	DLYCNT1B
	STA	DLYCNT1
	LDA	DLYCNT11B
	STA	DLYCNT11
	LDA	#C_CNT1_BIT
	TRB	<USER_FLAG_B
	ENDM

;=======================================================================
;	MACRO2
;========================================================================

.if (CHIPSERIES = 'N588H') .OR. (CHIPSERIES = 'N588J')
MR_BP00_L MACRO
	LDA	BP0
	AND	#C_BIT0V
.IF ( C_ULTRAIO_IO_EN .EQ. 1 )
	ORA	BP0M_BAK
.ELSE
	ORA	BP0M_USER
.ENDIF
	STA	BP0
	ENDM

MR_BP00_H MACRO
	LDA	BP0
	ORA	#C_BIT0
.IF ( C_ULTRAIO_IO_EN .EQ. 1 )
	ORA	BP0M_BAK
.ELSE
	ORA	BP0M_USER
.ENDIF
	STA	BP0
	ENDM
MR_BP00_INV MACRO
	LDA	BP0
	EOR	#C_BIT0
.IF ( C_ULTRAIO_IO_EN .EQ. 1 )
	ORA	BP0M_BAK
.ELSE
	ORA	BP0M_USER
.ENDIF
	STA	BP0
	ENDM
.ENDIF; (CHIPSERIES = 'N588H') .OR. (CHIPSERIES = 'N588J')


M_SET_SUB_MODE_NO	MACRO VALUE
	LDA	<SYS_MODE_NO
	AND	#0F0H
	ORA	#VALUE
	STA	<SYS_MODE_NO
	ENDM
	
M_SET_MODE_NO	MACRO VALUE
	LDA	#VALUE
	STA	<SYS_MODE_NO
	ENDM

M_CMP_SUB_MODE_NO	MACRO VALUE
	LDA	<SYS_MODE_NO
	AND	#0FH
	CMP	#VALUE
	ENDM

M_CMP_SYS_MODE_NO	MACRO VALUE
	LDA	<SYS_MODE_NO
	AND	#0F0H
	CMP	#VALUE
	ENDM
M_CMP_MODE_NO	MACRO VALUE
	LDA	<SYS_MODE_NO
	CMP	#VALUE
	ENDM

MR_DET_SYS_MODE_NO MACRO
	LDA	SYS_MODE_NO
	AND	#0F0H
	ENDM

;======================================


MR_SET_PWOFF_FG MACRO
	LDA	#C_BIT4
	TSB	USER_FLAG20
	ENDM
	
MR_CLR_PWOFF_FG MACRO
	LDA	#C_BIT4
	TRB	USER_FLAG20
	ENDM

MR_DET_PWOFF_FG MACRO
	LDA	#C_BIT4
	BIT	USER_FLAG20
	ENDM

MR_SET_POR_FG MACRO
	LDA	#C_BIT1
	TRB	USER_FLAG20
	ENDM
MR_CLR_POR_FG MACRO
	LDA	#C_BIT1
	TSB	USER_FLAG20
	ENDM
MR_DET_POR_FG MACRO
	LDA	#C_BIT1
	BIT	USER_FLAG20
	ENDM
MR_DET_MUTE MACRO
	LDA	#1
	ENDM

M_SET_BANK MACRO VALUE ;
	LDA	#.HIGH8.VALUE
	STA	BANK
	ENDM

;==================================

.IF (CHIPSERIES = 'N588H') .OR. (CHIPSERIES = 'N588J')
MR_SET_TM1_05MS MACRO
	LDA	#
	STA	TM1C
	LDA	#
	STA	TM1V
	LDA #INT0_TM1
	TSB !IEF0     			;SET IEF FLAG
	
	
	ENDM

MR_LEDR_ON  MACRO
;	SET_PORT_OUTPUT_0 0, 00000001b
	LDA	BP0
	ORA	#C_BIT0
	ORA	BP0M_USER
	STA	BP0

	ENDM
MR_LEDR_OFF  MACRO
;	SET_PORT_OUTPUT_0 0, 00000001b
	LDA	BP0
	AND	#C_BIT0V
	ORA	BP0M_USER
	STA	BP0

	ENDM
	
MR_LEDG_ON  MACRO
;	SET_PORT_OUTPUT_0 0, 00000001b
	LDA	BP0
	ORA	#C_BIT2
	ORA	BP0M_USER
	STA	BP0

	ENDM
MR_LEDG_OFF  MACRO
;	SET_PORT_OUTPUT_0 0, 00000001b
	LDA	BP0
	AND	#C_BIT2V
	ORA	BP0M_USER
	STA	BP0

	ENDM

MR_LEDB_ON  MACRO
;	SET_PORT_OUTPUT_0 0, 00000001b
	LDA	BP0
	ORA	#C_BIT4
	ORA	BP0M_USER
	STA	BP0

	ENDM
MR_LEDB_OFF  MACRO
;	SET_PORT_OUTPUT_0 0, 00000001b
	LDA	BP0
	AND	#C_BIT4V
	ORA	BP0M_USER
	STA	BP0

	ENDM


.ENDIF
MR_CHK_TOUCH_EN MACRO
	LDA	#C_BIT7
	TSB	R_TOUCH_FLAG
	ENDM

MR_CHK_TOUCH_DIS MACRO
	LDA	#C_BIT7
	TRB	R_TOUCH_FLAG
	ENDM

MR_DET_CHK_TOUCH_EN MACRO
	LDA	#C_BIT7
	BIT	R_TOUCH_FLAG
	ENDM
