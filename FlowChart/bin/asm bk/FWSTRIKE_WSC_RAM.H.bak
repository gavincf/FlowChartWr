
;360'c for stick
;action:
;block:1,vertical with ground ,2,HORIZONTAL with ground
;



;X,Y,Z in DA260B datasheet is minus:X-,Y-,Z-

R_FORWARDSTRIKE_CHK_STEP 		DS 	1
R_FORWARDSTRIKE_STEP_DLYCNT DS 	1
R_FORWARDSTRIKE_CNT DS 1
R_FORWARDSTRIKE_OV_DLYCNT 	DS	1

C_CHK_AVR1_EN EQU 0

;to outside:X+:HORT;to left:Y+:VERT
;HORIZONTAL:to outside,same as sword
;VERTICAL:vertical to sword direction

;C_PLUS EQU 0
;C_MINUS EQU 1
;C_HORIZONTAL_DIR EQU C_PLUS; 1:PLUS,0:MINUS;@to outside at swinging when sword same as ground
;C_VERTICAL_DIR EQU C_MINUS; 1:PLUS,0:MINUS ;@to down at swinging when sword same as ground
;R_HORIZONTAL_VAL_P EQU R_YVAL
;R_HORIZONTAL_AVR_P EQU YAVR_P
;R_VERTICAL_VAL_P	EQU R_XVAL
;R_VERTICAL_AVR_P EQU XAVR_P


MR_SET_FORWARDSTRIKE_IDX MACRO VALUE1,VALUE2
;VALUE1 @GAP2
	LDA	#VALUE1
	STA	R_FORWARDSTRIKE_STEP_DLYCNT
	LDA	#VALUE2
	STA	R_FORWARDSTRIKE_CHK_STEP
	ENDM
	
MR_SET_FORWARDSTRIKE_OV MACRO
	LDA	#.LOW.(1000000H-300*100/C_100GAP_FXF15) ;need 300ms for action
	STA	R_FORWARDSTRIKE_OV_DLYCNT
	ENDM
MR_STOP_FORWARDSTRIKE_OV MACRO
	STZ	R_FORWARDSTRIKE_OV_DLYCNT
	ENDM
	
