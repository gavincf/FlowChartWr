
POR_MODULE_PCC_BMA253 EQU C_TRUE
.IF(POR_MODULE_PCC_BMA253.EQ.C_FALSE)
 JSR F_BMA253_INIT
.ENDIF


WAITKEY_GAP2_PCC_BMA253 EQU C_TRUE
.IF(WAITKEY_GAP2_PCC_BMA253.EQ.C_FALSE)
 JSR F_BMA253_READXYZ

 
 JSR F_GSENSOR_SAVEXYZ
 JSR L_GET_AVR_P

 JMP L_CHK_6_DIR
L_CHK_6_DIR_RET:

.ENDIF



L_CHK_6_DIR:

 LDX R_GSENSOR_SAVEP
 TXA
 BNE L_CHK_6_DIR_S10
 LDX #C_GDATA_STOTAL
L_CHK_6_DIR_S10:
 DEX



CHK_UPSIDE:
 LDA R_SAVEX_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_UPSIDE_X_MAX
 BCS CHK_DOWNSIDE_J1
 CMP #C_UPSIDE_X_MIN
 BCC CHK_DOWNSIDE_J1
 LDA R_SAVEY_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_UPSIDE_Y_MAX
 BCS CHK_DOWNSIDE_J1
 CMP #C_UPSIDE_Y_MIN
 BCC CHK_DOWNSIDE_J1
 LDA R_SAVEZ_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_UPSIDE_Z_MAX
 BCS CHK_DOWNSIDE_J1
 CMP #C_UPSIDE_Z_MIN
 BCC CHK_DOWNSIDE_J1

 LDA DIR6_FLAG
 AND #C_DIR_MASK
 CMP #C_UPSIDE_DIR
 BEQ CHK_UPSIDE_SAME
 LDA DIR6_FLAG
 AND #C_DIR_BUF_MASK
 CMP #C_UPSIDE_DIR_BUF
 BEQ CHK_UPSIDE_S10
 
 LDA DIR6_FLAG
 AND #C_DIR_BUF_MASKV
 ORA #C_UPSIDE_DIR_BUF
 STA DIR6_FLAG
 
 LDA #C_GSENSOR_DIR_DEB_MASK
 TRB GSENSOR_DLY
 
CHK_BMA222E_END_J1:
 JMP L_CHK_6_DIR_END
CHK_DOWNSIDE_J1:
 BRA CHK_DOWNSIDE
 
CHK_UPSIDE_SAME:

 JMP L_CHK_6_DIR_END
CHK_UPSIDE_S10:
 CLC
 LDA GSENSOR_DLY
 ADC #C_GSENSOR_DIR_DEB_INC
 STA GSENSOR_DLY
 


 LDA GSENSOR_DLY
 AND #C_GSENSOR_DIR_DEB_MASK
 CMP #C_GSENSOR_DIR_DEB
 BNE CHK_BMA222E_END_J1
 BRA CHK_UPSIDE_TRIG
CHK_UPSIDE_S11:
 LDA GSENSOR_DLY
 AND #C_GSENSOR_DIR_DEB_MASK
 CMP #C_GSENSOR_DIR_DEB_TEST
 BNE CHK_BMA222E_END_J1
 
CHK_UPSIDE_TRIG:
 LDA #C_GSENSOR_DIR_DEB_MASK
 TRB GSENSOR_DLY

 LDA #C_UPSIDE_DIR
 STA DIR6_FLAG




 
L_CHK_6_DIR_END_J1:
 JMP L_CHK_6_DIR_END

CHK_DOWNSIDE:
 LDA R_SAVEX_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_DOWNSIDE_X_MAX
 BCS CHK_FACEUP_J1
 CMP #C_DOWNSIDE_X_MIN
 BCC CHK_FACEUP_J1
 LDA R_SAVEY_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_DOWNSIDE_Y_MAX
 BCS CHK_FACEUP_J1
 CMP #C_DOWNSIDE_Y_MIN
 BCC CHK_FACEUP_J1
 LDA R_SAVEZ_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_DOWNSIDE_Z_MAX
 BCS CHK_FACEUP_J1
 CMP #C_DOWNSIDE_Z_MIN
 BCC CHK_FACEUP_J1


 LDA DIR6_FLAG
 AND #C_DIR_MASK
 CMP #C_DOWNSIDE_DIR
 BEQ CHK_DOWNSIDE_SAME

 LDA DIR6_FLAG
 AND #C_DIR_BUF_MASK
 CMP #C_DOWNSIDE_DIR_BUF
 BEQ CHK_DOWNSIDE_S10_J1

 LDA DIR6_FLAG
 AND #C_DIR_BUF_MASKV
 ORA #C_DOWNSIDE_DIR_BUF
 STA DIR6_FLAG
 LDA #C_GSENSOR_DIR_DEB_MASK
 TRB GSENSOR_DLY
CHK_BMA222E_END_J2:
 JMP L_CHK_6_DIR_END
CHK_DOWNSIDE_S10_J1:
 JMP CHK_DOWNSIDE_S10
CHK_FACEUP_J1:
 JMP CHK_FACEUP
 
CHK_DOWNSIDE_SAME:
 LDA DIR6_CNT
 BEQ CHK_BMA222E_END_J2
 INC DIR6_CNT
 BNE CHK_BMA222E_END_J2

 JMP CHK_DOWNSIDE_TRIG

CHK_DOWNSIDE_S10:

 CLC
 LDA GSENSOR_DLY
 ADC #C_GSENSOR_DIR_DEB_INC
 STA GSENSOR_DLY



 LDA GSENSOR_DLY
 AND #C_GSENSOR_DIR_DEB_MASK
 CMP #C_GSENSOR_DIR_DEB
 BNE CHK_BMA222E_END_J21
 
 BRA CHK_DOWNSIDE_TRIG
CHK_DOWNSIDE_S11:
 LDA GSENSOR_DLY
 AND #C_GSENSOR_DIR_DEB_MASK
 CMP #C_GSENSOR_DIR_DEB_TEST
 BNE CHK_BMA222E_END_J21

CHK_DOWNSIDE_TRIG:

 LDA #C_GSENSOR_DIR_DEB_MASK
 TRB GSENSOR_DLY
 
 LDA #C_DOWNSIDE_DIR
 STA DIR6_FLAG




 
 M_SET_KEYCH2_FLAG
 JMP L_CHK_6_DIR_END

CHK_DOWNSIDE_TRIG_S100:
 


 
 LDA #256-4000/C_GAP2
 STA DIR6_CNT

 M_SET_KEYCH2_FLAG


CHK_DOWNSIDE_S110:


CHK_DOWNSIDE_EXIT:
 
 JMP L_CHK_6_DIR_END


CHK_BMA222E_END_J21:
 JMP L_CHK_6_DIR_END

CHK_FACEUP:
 LDA R_SAVEX_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_FACEUP_X_MAX
 BCS CHK_FACEDOWN_J1
 CMP #C_FACEUP_X_MIN
 BCC CHK_FACEDOWN_J1
 LDA R_SAVEY_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_FACEUP_Y_MAX
 BCS CHK_FACEDOWN_J1
 CMP #C_FACEUP_Y_MIN
 BCC CHK_FACEDOWN_J1
 LDA R_SAVEZ_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_FACEUP_Z_MAX
 BCS CHK_FACEDOWN_J1
 CMP #C_FACEUP_Z_MIN
 BCC CHK_FACEDOWN_J1
 
 LDA DIR6_FLAG
 AND #C_DIR_MASK
 CMP #C_FACEUP_DIR
 BEQ CHK_FACEUP_SAME
 LDA DIR6_FLAG
 AND #C_DIR_BUF_MASK
 CMP #C_FACEUP_DIR_BUF
 BEQ CHK_FACEUP_S10
 LDA DIR6_FLAG
 AND #C_DIR_BUF_MASKV
 ORA #C_FACEUP_DIR_BUF
 STA DIR6_FLAG
 LDA #C_GSENSOR_DIR_DEB_MASK
 TRB GSENSOR_DLY
CHK_BMA222E_END_J3:
 JMP L_CHK_6_DIR_END
 
CHK_FACEDOWN_J1:
 JMP CHK_FACEDOWN
 
CHK_FACEUP_SAME:
 LDA DIR6_CNT
 BEQ CHK_BMA222E_END_J3
 INC DIR6_CNT
 BNE CHK_BMA222E_END_J3

 JMP CHK_FACEUP_TRIG
 
CHK_FACEUP_S10:
 CLC
 LDA GSENSOR_DLY
 ADC #C_GSENSOR_DIR_DEB_INC
 STA GSENSOR_DLY
 


 LDA GSENSOR_DLY
 AND #C_GSENSOR_DIR_DEB_MASK
 CMP #C_GSENSOR_DIR_DEB
 BNE CHK_BMA222E_END_J3
 BRA CHK_FACEUP_TRIG
CHK_FACEUP_S11:
 LDA GSENSOR_DLY
 AND #C_GSENSOR_DIR_DEB_MASK
 CMP #C_GSENSOR_DIR_DEB_TEST
 BNE CHK_BMA222E_END_J3

CHK_FACEUP_TRIG:

 LDA #C_GSENSOR_DIR_DEB_MASK
 TRB GSENSOR_DLY
 
 LDA #C_FACEUP_DIR
 STA DIR6_FLAG
 


 M_SET_KEYCH2_FLAG
 JMP L_CHK_6_DIR_END

CHK_FACEUP_TRIG_S100:


 STZ DIR6_CNT
 

 M_SET_KEYCH2_FLAG
 
CHK_FACEUP_EXIT:
 JMP L_CHK_6_DIR_END


CHK_FACEDOWN:
 LDA R_SAVEX_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_FACEDOWN_X_MAX
 BCS CHK_LEFTSIDE_J1
 CMP #C_FACEDOWN_X_MIN
 BCC CHK_LEFTSIDE_J1
 LDA R_SAVEY_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_FACEDOWN_Y_MAX
 BCS CHK_LEFTSIDE_J1
 CMP #C_FACEDOWN_Y_MIN
 BCC CHK_LEFTSIDE_J1
 LDA R_SAVEZ_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_FACEDOWN_Z_MAX
 BCS CHK_LEFTSIDE_J1
 CMP #C_FACEDOWN_Z_MIN
 BCC CHK_LEFTSIDE_J1
 
 LDA DIR6_FLAG
 AND #C_DIR_MASK
 CMP #C_FACEDOWN_DIR
 BEQ CHK_FACEDOWN_SAME
 LDA DIR6_FLAG
 AND #C_DIR_BUF_MASK
 CMP #C_FACEDOWN_DIR_BUF
 BEQ CHK_FACEDOWN_S10
 LDA DIR6_FLAG
 AND #C_DIR_BUF_MASKV
 ORA #C_FACEDOWN_DIR_BUF
 STA DIR6_FLAG
 LDA #C_GSENSOR_DIR_DEB_MASK
 TRB GSENSOR_DLY
CHK_BMA222E_END_J4:
 JMP L_CHK_6_DIR_END
CHK_LEFTSIDE_J1:
 BRA CHK_LEFTSIDE
CHK_FACEDOWN_SAME:

 JMP L_CHK_6_DIR_END
CHK_FACEDOWN_S10:
 CLC
 LDA GSENSOR_DLY
 ADC #C_GSENSOR_DIR_DEB_INC
 STA GSENSOR_DLY








CHK_FACEDOWN_S11:
 LDA GSENSOR_DLY
 AND #C_GSENSOR_DIR_DEB_MASK
 CMP #C_GSENSOR_DIR_DEB_TEST
 BNE CHK_BMA222E_END_J4
 
CHK_FACEDOWN_TRIG:
 LDA #C_GSENSOR_DIR_DEB_MASK
 TRB GSENSOR_DLY

 LDA #C_FACEDOWN_DIR
 STA DIR6_FLAG




 M_SET_KEYCH2_FLAG
 
L_CHK_6_DIR_END_J2:
 JMP L_CHK_6_DIR_END
 

CHK_LEFTSIDE:
 LDA R_SAVEX_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_LEFTSIDE_X_MAX
 BCS CHK_RIGHTSIDE_J1
 CMP #C_LEFTSIDE_X_MIN
 BCC CHK_RIGHTSIDE_J1
 LDA R_SAVEY_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_LEFTSIDE_Y_MAX
 BCS CHK_RIGHTSIDE_J1
 CMP #C_LEFTSIDE_Y_MIN
 BCC CHK_RIGHTSIDE_J1
 LDA R_SAVEZ_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_LEFTSIDE_Z_MAX
 BCS CHK_RIGHTSIDE_J1
 CMP #C_LEFTSIDE_Z_MIN
 BCC CHK_RIGHTSIDE_J1
 
 LDA DIR6_FLAG
 AND #C_DIR_MASK
 CMP #C_LEFTSIDE_DIR
 BEQ CHK_LEFTSIDE_SAME
 LDA DIR6_FLAG
 AND #C_DIR_BUF_MASK
 CMP #C_LEFTSIDE_DIR_BUF
 BEQ CHK_LEFTSIDE_S10
 LDA DIR6_FLAG
 AND #C_DIR_BUF_MASKV
 ORA #C_LEFTSIDE_DIR_BUF
 STA DIR6_FLAG
 LDA #C_GSENSOR_DIR_DEB_MASK
 TRB GSENSOR_DLY
CHK_BMA222E_END_J5:
 JMP L_CHK_6_DIR_END
CHK_RIGHTSIDE_J1:
 BRA CHK_RIGHTSIDE
 
CHK_LEFTSIDE_SAME:

 JMP L_CHK_6_DIR_END
CHK_LEFTSIDE_S10:
 CLC
 LDA GSENSOR_DLY
 ADC #C_GSENSOR_DIR_DEB_INC
 STA GSENSOR_DLY








CHK_LEFTSIDE_S11:
 LDA GSENSOR_DLY
 AND #C_GSENSOR_DIR_DEB_MASK
 CMP #C_GSENSOR_DIR_DEB_TEST
 BNE CHK_BMA222E_END_J5
 
CHK_LEFTSIDE_TRIG:
 LDA #C_GSENSOR_DIR_DEB_MASK
 TRB GSENSOR_DLY

 LDA #C_LEFTSIDE_DIR
 STA DIR6_FLAG



 M_SET_KEYCH2_FLAG

L_CHK_6_DIR_END_J3:
 JMP L_CHK_6_DIR_END

CHK_RIGHTSIDE:
 LDA R_SAVEX_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_RIGHTSIDE_X_MAX
 BCS CHK_OTHER_J1
 CMP #C_RIGHTSIDE_X_MIN
 BCC CHK_OTHER_J1
 LDA R_SAVEY_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_RIGHTSIDE_Y_MAX
 BCS CHK_OTHER_J1
 CMP #C_RIGHTSIDE_Y_MIN
 BCC CHK_OTHER_J1
 LDA R_SAVEZ_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 CMP #C_RIGHTSIDE_Z_MAX
 BCS CHK_OTHER
 CMP #C_RIGHTSIDE_Z_MIN
 BCC CHK_OTHER
 
 LDA DIR6_FLAG
 AND #C_DIR_MASK
 CMP #C_RIGHTSIDE_DIR
 BEQ CHK_RIGHTSIDE_SAME
 LDA DIR6_FLAG
 AND #C_DIR_BUF_MASK
 CMP #C_RIGHTSIDE_DIR_BUF
 BEQ CHK_RIGHTSIDE_S10
 LDA DIR6_FLAG
 AND #C_DIR_BUF_MASKV
 ORA #C_RIGHTSIDE_DIR_BUF
 STA DIR6_FLAG
 LDA #C_GSENSOR_DIR_DEB_MASK
 TRB GSENSOR_DLY
 
CHK_BMA222E_END_J6:
 JMP L_CHK_6_DIR_END
CHK_OTHER_J1:
 BRA CHK_OTHER
 
CHK_RIGHTSIDE_SAME:

 JMP L_CHK_6_DIR_END
CHK_RIGHTSIDE_S10:
 CLC
 LDA GSENSOR_DLY
 ADC #C_GSENSOR_DIR_DEB_INC
 STA GSENSOR_DLY








CHK_RIGTHSIDE_S11:
 LDA GSENSOR_DLY
 AND #C_GSENSOR_DIR_DEB_MASK
 CMP #C_GSENSOR_DIR_DEB_TEST
 BNE CHK_BMA222E_END_J6
 
CHK_RIGTHSIDE_TRIG:
 LDA #C_GSENSOR_DIR_DEB_MASK
 TRB GSENSOR_DLY

 LDA #C_RIGHTSIDE_DIR
 STA DIR6_FLAG



 M_SET_KEYCH2_FLAG

L_CHK_6_DIR_END_J4:
 JMP L_CHK_6_DIR_END

CHK_OTHER:
 
 LDA DIR6_FLAG
 AND #C_DIR_MASK
 CMP #C_OTHER_DIR
 BEQ CHK_OTHER_SAME

 LDA DIR6_FLAG
 AND #C_DIR_BUF_MASK
 CMP #C_OTHER_DIR_BUF
 BEQ CHK_OTHER_S10
 LDA DIR6_FLAG
 AND #C_DIR_BUF_MASKV
 ORA #C_OTHER_DIR_BUF
 STA DIR6_FLAG
 LDA #C_GSENSOR_DIR_DEB_MASK
 TRB GSENSOR_DLY
CHK_BMA222E_END_J7:
 JMP L_CHK_6_DIR_END

CHK_OTHER_SAME:
 
 JMP L_CHK_6_DIR_END
CHK_OTHER_S10:
 CLC
 LDA GSENSOR_DLY
 ADC #C_GSENSOR_DIR_DEB_INC
 STA GSENSOR_DLY








CHK_OTHER_S11:
 LDA GSENSOR_DLY
 AND #C_GSENSOR_DIR_DEB_MASK
 CMP #C_GSENSOR_DIR_DEB_TEST
 BNE CHK_BMA222E_END_J7
 
CHK_OTHER_TRIG:
 LDA #C_GSENSOR_DIR_DEB_MASK
 TRB GSENSOR_DLY

 LDA #C_OTHER_DIR
 STA DIR6_FLAG




L_CHK_6_DIR_END_J5:
 
 JMP L_CHK_6_DIR_END

L_CHK_6_DIR_END:


 JMP L_CHK_6_DIR_RET




L_GET_AVR_P_POR:
 LDX R_GSENSOR_SAVEP
 TXA
 BNE L_GET_AVR_S10
 LDX #C_GDATA_STOTAL
L_GET_AVR_S10:
 DEX

 LDX #0

 LDA R_SAVEX_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 STA XAVR_P

 LDA R_SAVEY_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 STA YAVR_P

 LDA R_SAVEZ_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 STA ZAVR_P
 RTS



L_GET_AVR_P:
 LDA R_1ST_AVR_CNT
 CMP #16
 BCS L_GET_AVR_P_S1000
 INC R_1ST_AVR_CNT
 LDA R_1ST_AVR_CNT
 CMP #16
 BCC L_GET_AVR_P_EXIT
 LDA #111B
 STA R_AVR_FLAG
 STA R_AVR1_FLAG
 BRA L_GET_AVR_P_S1000
L_GET_AVR_P_EXIT:
 RTS
L_GET_AVR_P_S1000:
 LDA R_AVR_FLAG
 BIT #C_BIT0
 BEQ L_GET_AVR_P_S1200
 JSR L_GET_AVR_X_P
 STA XAVR_P


L_GET_AVR_P_S1200:
 LDA R_AVR_FLAG
 BIT #C_BIT1
 BEQ L_GET_AVR_P_S1300
 JSR L_GET_AVR_Y_P
 STA YAVR_P


L_GET_AVR_P_S1300:
 LDA R_AVR_FLAG
 BIT #C_BIT2
 BEQ L_GET_AVR_P_S2000
 JSR L_GET_AVR_Z_P
 STA ZAVR_P

L_GET_AVR_P_S2000:






















 RTS


L_GET_AVR_X_P:
 STZ REG_EA
 STZ REG_HL
 STZ DP_ADDR
 
 LDA R_GSENSOR_SAVEP
 STA DP_ADDR+1
L_GET_AVR_P_S1110:
 LDX DP_ADDR+1
 BNE L_GET_AVR_P_S1120
 LDX #32
L_GET_AVR_P_S1120:
 DEX
 STX DP_ADDR+1
 LDA R_SAVEX_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 ADC REG_EA
 STA REG_EA
 LDA REG_HL
 ADC #0
 STA REG_HL

 INC DP_ADDR
 LDA DP_ADDR
 CMP #16
 BCC L_GET_AVR_P_S1110

 
 LSR REG_HL
 ROR REG_EA
 LSR REG_HL
 ROR REG_EA
 LSR REG_HL
 ROR REG_EA
 LSR REG_HL
 ROR REG_EA
 LDA REG_EA
 RTS

L_GET_AVR_Y_P:
 STZ REG_EA
 STZ REG_HL
 STZ DP_ADDR
 
 LDA R_GSENSOR_SAVEP
 STA DP_ADDR+1
L_GET_AVR_P_S1210:
 LDX DP_ADDR+1
 BNE L_GET_AVR_P_S1220
 LDX #32
L_GET_AVR_P_S1220:
 DEX
 STX DP_ADDR+1
 LDA R_SAVEY_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 ADC REG_EA
 STA REG_EA
 LDA REG_HL
 ADC #0
 STA REG_HL

 INC DP_ADDR
 LDA DP_ADDR
 CMP #16
 BCC L_GET_AVR_P_S1210

 
 LSR REG_HL
 ROR REG_EA
 LSR REG_HL
 ROR REG_EA
 LSR REG_HL
 ROR REG_EA
 LSR REG_HL
 ROR REG_EA
 LDA REG_EA
 RTS

L_GET_AVR_Z_P:
 STZ REG_EA
 STZ REG_HL
 STZ DP_ADDR
 
 LDA R_GSENSOR_SAVEP
 STA DP_ADDR+1
L_GET_AVR_P_S1310:
 LDX DP_ADDR+1
 BNE L_GET_AVR_P_S1320
 LDX #32
L_GET_AVR_P_S1320:
 DEX
 STX DP_ADDR+1
 LDA R_SAVEZ_BASE,X
 CLC
 ADC #C_SHIFT_PLUS
 ADC REG_EA
 STA REG_EA
 LDA REG_HL
 ADC #0
 STA REG_HL

 INC DP_ADDR
 LDA DP_ADDR
 CMP #16
 BCC L_GET_AVR_P_S1310

 
 LSR REG_HL
 ROR REG_EA
 LSR REG_HL
 ROR REG_EA
 LSR REG_HL
 ROR REG_EA
 LSR REG_HL
 ROR REG_EA
 LDA REG_EA
 RTS






BMA222E_DEEPSUSPEND:
 LDA #PMU_LPW
 STA R_BMA253_ADDR
 LDA #C_DEEP_SUSPEND
 STA R_BMA253_DATA
 JSR F_BMA253_WRITE1BYTE
 RTS


BMA222E_RESET_TO_NORMAL:
 LDA #BGW_SOFTRESET
 STA R_BMA253_ADDR
 LDA #C_SOFERESET
 STA R_BMA253_DATA
 JSR F_BMA253_WRITE1BYTE
 
 JSR BK0_DELAY1MS
 JSR BK0_DELAY1MS
 JSR BK0_DELAY1MS
 JSR BK0_DELAY1MS
 JSR BK0_DELAY1MS


BMA222E_NORMAL:
 LDA #PMU_LPW
 STA R_BMA253_ADDR
 LDA #C_NORMAL_MODE
 STA R_BMA253_DATA
 JSR F_BMA253_WRITE1BYTE

 RTS
BMA222E_S_TAP_SET:


  MR_BMA222E_WR INT_OUT_CTRL,02H
  MR_BMA222E_WR INT_MAP_0,20H
  MR_BMA222E_WR INT_RST_LATCH,8CH 
  MR_BMA222E_WR INT_8,00H 
  MR_BMA222E_WR INT_9,46H 
 

  MR_BMA222E_WR INT_EN_0,20H 

 RTS











